function cargarModalEditar(n){$("#modal-editar-body").html(n);$("#modal-editar-body form").attr("data-ajax-success","repuestaAjaxSuccess")}function attachDatePickers(){$("input.date").each(function(){var n=$(this);n.datetimepicker({timepicker:!1,format:"d/m/Y H:m",lang:"es"})})}function MostrarAlertaError(n){n!=null?$("#alertaError span").html(n):$("#alertaError span").html($("#alertaError").data().mensaje);$("#alertaError").show();$("#alertaError").delay(500).addClass("in")}function MostrarAlertaExitosa(n){n!=null&&$("#alertaExitosa span").html(n);$("#alertaExitosa").show();$("#alertaExitosa").delay(500).addClass("in").fadeOut(2500)}function MostrarAlertaInfo(n){n!=null&&$("#alertaInfo span").html(n);$("#alertaInfo").show();$("#alertaInfo").delay(500).addClass("in").fadeOut(2500)}function repuestaAjaxSuccess(n){if(n==window.ajaxEditSuccess)if($("#search-form").length==0)window.location.href=window.location.href;else{$("#modal-editar").modal("hide");var t=$("#gridTabla");t.length>0&&t.is("[data-grid-url]")?$.get(t.data("gridUrl")+"?filtro="+$("#filtro").val(),function(n){t.html(n)}):$("#search-form").submit();MostrarAlertaExitosa()}else cargarModalEditar(n)}function CentrarPosicionElemento(){$(".centro-pantalla").css({position:"fixed",left:($(window).width()-$(".centro-pantalla").outerWidth())/2.25,top:($(window).height()-$(".centro-pantalla").outerHeight())/3})}$(document).ready(function(){CentrarPosicionElemento();$("#gridTabla").on("click",".paginador",function(){var n=$("#filtro").val(),t=$(this).attr("href");$(this).attr("href",t+"&filtro="+n)});$("#modal-editar").on("show.bs.modal",function(n){var t=$(n.relatedTarget),i=t.data("href"),r=t.data("titulo");$.get(i,cargarModalEditar);$("#modal-editar-title").html(r)});$("#modal-editar-guardar").on("click",function(){var n=$("#modal-editar form");n.submit()});$("#modal-eliminar").on("show.bs.modal",function(n){$("#modal-eliminar-cancelar").focus();var t=$(n.relatedTarget),i=t.data("href"),r=t.data("titulo");$("#modal-eliminar-body").html("<h3>¿Confirma la eliminación?<\/h3>");$("#modal-eliminar-title").html(r);$("#modal-eliminar-confirmar").attr("data-href",i)});$("#modal-eliminar-confirmar").on("click",function(){$.post($(this).attr("data-href"),function(n){n=="true"?MostrarAlertaExitosa():MostrarAlertaError(n)}).fail(function(n){alert(n.responseText)}).done(function(){var n=$("#gridTabla");$.get(n.data("gridUrl")+"?filtro="+$("#filtro").val(),function(t){n.html(t)})});$("#modal-eliminar").modal("hide")});$("#alertCloseButton").on("click",function(){$("#alertaError").hide()});$(".dropdown-menu a.dropdown-toggle").on("click mouseover",function(){$(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show");var n=$(this).next(".dropdown-menu");n.toggleClass("show");$(this).parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(){$(".dropdown-submenu .show").removeClass("show")});return!1})});